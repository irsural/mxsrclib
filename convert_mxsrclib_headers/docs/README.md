# docs_template

## Описание

Шаблон для разработки документации к исходному коду программных продуктов.

[Подробная информация о настройке и использовании шаблона](https://okr.irsural.ru/master/ИРС/Правила%20разработки/200.%20Документирование%20исходного%20кода.html)

Шаблон содержит:

- Файлы для сборки документации локально и просмотра ее в **VSCode**
- Примеры исходного кода и результатов генерации документации в папке **docs_template/src**

В шаблоне созданы 2 ветки:

- **c++** - для проектов на языке c++;

  Включены файлы **doxygen** и плагины **sphinx** для **doxigen**.

  **Мерджится в мастер**.

- **python** - для проектов на языке python.

> Примечание
>
> Все изменения в шаблоне, не специфичные для какого-то конкретного
> языка (т. е. применимые для всех языков) должны делаться во
> все ветки.

Формат написания документации описан
[здесь](https://okr.irsural.ru/master/Программы/База%20знаний%20irs_docs/400.%20Формат%20написания%20документации.html).

Для сборки и просмотра документации локально нужно
[использовать VSCode](https://okr.irsural.ru/master/Программы/База%20знаний%20irs_docs/800.%20Настройка%20редактора%20VSCode.html)

## Использование шаблона

Содержимое шаблона должно находиться в папке **docs** в корне репозитория с исходным кодом, для
которого создается документация.

Для начала разработки документации нужно:

- Склонировать данный репозиторий в папку **docs** в корень репозитория с исходным кодом
- Удалить папку **docs/.git**, чтобы документация стала частью репозитория с исходным кодом
- Удалить файл **docs/README.md**
- Удалить содержимое папки **docs/src**

### Сборка документации локально

Для сборки окументации локально используются скрипты в папке **scripts**, которые делают следующее:

1. Запускают сборку **doxygen**. Результат сборки помещается в **doxygen/out/html**.
2. Запускают сборку основной документации (sphinx-build).
3. Опционально открывают html-страницы документации в браузере.

   Для выполнения необходимо указать аргумент **open**:

   ```
   ./scripts/windows_build.bat open
   ```

Установка зависимостей в Windows осуществляется скриптом **scripts/windows_install.bat**.

В Linux зависимости подтягиваются автоматически.

### Устранение проблем

Если после генерации некорректно отображается киррилица, необходимо:

1. Изменить кодировку docs/doxygen/Doxyfile на cp1251;
2. Сохранить Doxyfile;
3. Запустить скрипт сборки.